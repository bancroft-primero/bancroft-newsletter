<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Â¡Comparemos!</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Nunito',sans-serif;background:#E8F4FD;color:#2D3748;min-height:100vh}
.app{max-width:900px;margin:0 auto;padding:16px}
.hdr{text-align:center;padding:20px 16px 12px;background:linear-gradient(135deg,#4ECDC4,#A78BFA);border-radius:24px;margin-bottom:16px;box-shadow:0 8px 24px rgba(78,205,196,.3);position:relative;overflow:hidden}
.hdr h1{font-family:'Fredoka',sans-serif;font-size:2rem;color:#fff;text-shadow:2px 2px 0 rgba(0,0,0,.1);margin-bottom:4px}
.hdr p{color:rgba(255,255,255,.9);font-size:1rem;font-weight:600}
.lt{position:absolute;top:14px;right:14px;display:flex;background:rgba(255,255,255,.2);border-radius:12px;overflow:hidden;border:2px solid rgba(255,255,255,.3)}
.lb{padding:6px 12px;border:none;background:0 0;color:rgba(255,255,255,.7);font-family:'Fredoka',sans-serif;font-size:.85rem;font-weight:600;cursor:pointer;transition:.25s}
.lb.on{background:rgba(255,255,255,.95);color:#7C5FCF;border-radius:9px}
.tabs{display:flex;gap:6px;margin-bottom:16px;overflow-x:auto;padding-bottom:4px}
.tb{flex-shrink:0;padding:10px 16px;border:3px solid transparent;border-radius:16px;font-family:'Fredoka',sans-serif;font-size:.9rem;font-weight:600;cursor:pointer;transition:.25s;background:#fff;color:#718096;box-shadow:0 2px 8px rgba(0,0,0,.06);white-space:nowrap}
.tb:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.1)}
.tb.on{color:#fff;transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.15)}
.tb[data-t="0"].on{background:#FF6B6B}.tb[data-t="1"].on{background:#4ECDC4}.tb[data-t="2"].on{background:#F0C000}.tb[data-t="3"].on{background:#A78BFA}.tb[data-t="4"].on{background:#FB923C}.tb[data-t="5"].on{background:linear-gradient(135deg,#FF6B6B,#A78BFA)}
.tc{display:none;animation:fi .4s ease}.tc.on{display:block}
@keyframes fi{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.cd{background:#fff;border-radius:20px;padding:24px;margin-bottom:16px;box-shadow:0 4px 16px rgba(0,0,0,.06);border:3px solid transparent}
.cd.ex{border-color:#E2E8F0}.cd.pr{border-color:#4ECDC4}.cd.ch{border-color:#FF6B6B}
.cl{display:inline-block;padding:4px 14px;border-radius:20px;font-family:'Fredoka',sans-serif;font-size:.8rem;font-weight:600;color:#fff;margin-bottom:12px}
.cl.e{background:#718096}.cl.p{background:#4ECDC4}.cl.c{background:#FF6B6B}
.qt{font-family:'Fredoka',sans-serif;font-size:1.25rem;font-weight:600;color:#2D3748;margin-bottom:16px;line-height:1.4}
.ti{background:linear-gradient(135deg,rgba(255,255,255,.9),rgba(255,255,255,.7));border-radius:16px;padding:16px 20px;margin-bottom:16px;border-left:5px solid #4ECDC4;font-size:1rem;font-weight:600;line-height:1.5}
.bv{margin:16px 0;position:relative}.br{display:flex;align-items:center;margin-bottom:10px;gap:10px}
.bl{font-family:'Fredoka',sans-serif;font-weight:600;font-size:.95rem;min-width:100px;text-align:right}
.bar{height:40px;border-radius:10px;display:inline-flex;align-items:center}
.bu{display:flex;height:100%;gap:2px;padding:3px}
.bx{width:32px;height:100%;border-radius:6px;background:rgba(255,255,255,.4);border:2px solid rgba(255,255,255,.6)}
.bc{font-family:'Fredoka',sans-serif;font-weight:700;font-size:1.1rem;min-width:30px}
.db{display:flex;flex-direction:column;align-items:center;margin:8px 0 8px 0;gap:2px}
.dl{height:3px;border-radius:2px;background:#FF6B6B;width:100%}
.dt{font-family:'Fredoka',sans-serif;font-weight:700;font-size:1rem;color:#FF6B6B;white-space:nowrap}
.ec{display:flex;gap:24px;justify-content:center;flex-wrap:wrap;margin:16px 0}
.eg{text-align:center}
.el{font-family:'Fredoka',sans-serif;font-weight:700;font-size:1rem;margin-bottom:8px}
.gg{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;max-width:220px;min-height:50px}
.ei{font-size:1.8rem;width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:#EDF2F7;border-radius:10px;transition:.3s}
.ei.hl{background:#FED7D7;border:2px solid #FF6B6B}
.en2{font-family:'Fredoka',sans-serif;font-weight:700;font-size:1.5rem;margin-top:6px}
.co{font-family:'Fredoka',sans-serif;font-size:2.5rem;font-weight:700;color:#718096;display:flex;align-items:center;justify-content:center;padding:0 8px}
.aa{display:flex;align-items:center;gap:12px;margin-top:16px;flex-wrap:wrap}
.ai{width:80px;height:56px;border:3px solid #CBD5E0;border-radius:14px;text-align:center;font-family:'Fredoka',sans-serif;font-size:1.5rem;font-weight:700;color:#2D3748;outline:none;transition:.2s}
.ai:focus{border-color:#4ECDC4}.ai.ok{border-color:#48BB78;background:#F0FFF4}.ai.no{border-color:#FC8181;background:#FFF5F5}
.as{font-family:'Fredoka',sans-serif;font-size:1.1rem;font-weight:600;color:#718096}
.btn{padding:10px 20px;border:none;border-radius:14px;font-family:'Fredoka',sans-serif;font-size:1rem;font-weight:600;cursor:pointer;transition:.2s;display:inline-flex;align-items:center;gap:6px}
.btn:hover{transform:translateY(-2px)}
.bck{background:#4ECDC4;color:#fff;box-shadow:0 4px 12px rgba(78,205,196,.3)}
.bht{background:#FFFBEB;color:#F59E0B;border:2px solid #F59E0B}
.fb{margin-top:12px;padding:12px 16px;border-radius:14px;font-family:'Fredoka',sans-serif;font-weight:600;font-size:1.05rem;display:none}
.fb.ok{display:block;background:#F0FFF4;color:#276749;border:2px solid #48BB78}
.fb.no{display:block;background:#FFF5F5;color:#9B2C2C;border:2px solid #FC8181}
.hb{margin-top:12px;padding:14px 16px;background:#FFFBEB;border:2px dashed #F59E0B;border-radius:14px;font-size:1rem;font-weight:600;color:#92400E;display:none;line-height:1.5}
.hb.vis{display:block}
.ea{margin-top:12px;padding:14px 16px;background:#F0FFF4;border:2px solid #48BB78;border-radius:14px;font-family:'Fredoka',sans-serif;font-size:1.05rem;font-weight:600;color:#276749;display:none;line-height:1.5}
.ea.vis{display:block}
.rb{margin-top:12px;padding:10px 20px;background:#48BB78;color:#fff;border:none;border-radius:14px;font-family:'Fredoka',sans-serif;font-size:1rem;font-weight:600;cursor:pointer;transition:.2s}
.rb:hover{transform:translateY(-2px)}
.sf{background:#F7FAFC;border:2px dashed #CBD5E0;border-radius:14px;padding:14px 16px;margin-top:12px;font-family:'Fredoka',sans-serif;font-size:1.1rem;font-weight:600;color:#2D3748;line-height:1.6}
.sf .bk{display:inline-block;min-width:50px;border-bottom:3px solid #4ECDC4;text-align:center;color:#4ECDC4;margin:0 4px;font-weight:700}
.pb{display:flex;justify-content:center;gap:6px;margin:12px 0}
.st{font-size:1.4rem;opacity:.25;transition:.3s}.st.wd{opacity:1}
@media(max-width:600px){.hdr h1{font-size:1.5rem}.qt{font-size:1.1rem}.ei{width:36px;height:36px;font-size:1.5rem}.bx{width:26px}.bl{min-width:80px;font-size:.85rem}.cd{padding:16px}.lt{top:10px;right:10px}.lb{padding:4px 8px;font-size:.75rem}}
@media(max-width:420px){.bx{width:20px}.bar{height:32px}.bu{gap:1px;padding:2px}.bc{font-size:.85rem;min-width:20px}.br{gap:6px}.bl{min-width:60px;font-size:.7rem}.dt{font-size:.75rem}.db{gap:4px}.dl{height:2px}.qt{font-size:1rem}.ei{width:30px;height:30px;font-size:1.2rem}.gg{gap:4px}.en2{font-size:1.2rem}.co{font-size:1.8rem;padding:0 4px}.hdr h1{font-size:1.3rem}.hdr p{font-size:.85rem}}
</style>
</head>
<body>
<div class="app">
<div class="hdr">
<div class="lt"><button class="lb on" id="les" onclick="SL('es')">ğŸ‡²ğŸ‡½ EspaÃ±ol</button><button class="lb" id="len" onclick="SL('en')">ğŸ‡ºğŸ‡¸ English</button></div>
<h1 id="ht"></h1><p id="hs"></p>
</div>
<div class="tabs" id="tbs"></div>
<div id="ct"></div>
</div>
<script>
var L='es',AT=0,CS=new Set();

// All translatable strings stored as arrays indexed by position
// Format for questions array: sequential strings used by builder functions
var D={es:{
ht:'ğŸ” Â¡Comparemos! ğŸ”',
hs:'Â¿CuÃ¡ntos mÃ¡s? Â¿CuÃ¡ntos menos? Â¡Vamos a comparar!',
tn:['ğŸ“ Longitudes','ğŸ¾ Animales','ğŸ Comida','ğŸ§¸ Juguetes','âš½ Deportes','ğŸŒŸ DesafÃ­o'],
el:'ğŸ“– Ejemplo',pl:'âœï¸ Â¡Tu turno!',chl:'ğŸŒŸ DesafÃ­o',ck:'âœ“ Verificar',hi:'ğŸ’¡ Pista',
sw:'ğŸ‘€ Â¡MuÃ©strame por quÃ©!',hw:'ğŸ™ˆ Ocultar',nm:'ğŸ¤” Â¡Escribe un nÃºmero primero!',
cm:'ğŸ‰ Â¡Excelente! Â¡Correcto!',im:'ğŸ¤” Â¡Casi! IntÃ©ntalo de nuevo. Piensa cuÃ¡l es mÃ¡s grande y resta.',
sm:'ğŸ‰ Â¡FantÃ¡stico! Â¡Ganaste una estrella!',am:'ğŸ‰ğŸŒŸ Â¡INCREÃBLE! Â¡Ganaste TODAS las 5 estrellas! Â¡Eres CampeÃ³n/a de Comparaciones! ğŸ†',
ti:['ğŸ“ Podemos comparar quÃ© tan <b>largo</b> o <b>corto</b> son las cosas. Â¡Usemos cubos para medir y comparar!','ğŸ¾ Â¡Contemos animales y comparemos! <b>Â¿CuÃ¡ntos mÃ¡s? Â¿CuÃ¡ntos menos?</b>','ğŸ Â¡Comparaciones deliciosas! Comparemos cantidades de comida y encontremos la diferencia.','ğŸ§¸ Â¡Comparemos juguetes! Cantidades Y longitudes.','âš½ Â¡Comparaciones deportivas! Comparemos puntos, goles y equipo.','ğŸŒŸ Â¡Eres una superestrella! Intenta estos problemas difÃ­ciles. Â¡TÃº puedes!']
},en:{
ht:'ğŸ” Let\'s Compare! ğŸ”',
hs:'How many more? How many fewer? Let\'s compare!',
tn:['ğŸ“ Lengths','ğŸ¾ Animals','ğŸ Food','ğŸ§¸ Toys','âš½ Sports','ğŸŒŸ Challenge'],
el:'ğŸ“– Example',pl:'âœï¸ Your Turn!',chl:'ğŸŒŸ Challenge',ck:'âœ“ Check',hi:'ğŸ’¡ Hint',
sw:'ğŸ‘€ Show me why!',hw:'ğŸ™ˆ Hide',nm:'ğŸ¤” Type a number first!',
cm:'ğŸ‰ Excellent! That\'s right!',im:'ğŸ¤” Not quite! Try again. Think which is bigger and subtract.',
sm:'ğŸ‰ Fantastic! You earned a star!',am:'ğŸ‰ğŸŒŸ AMAZING! All 5 stars! You\'re a Comparison Champion! ğŸ†',
ti:['ğŸ“ We can compare how <b>long</b> or <b>short</b> things are. Let\'s use cubes!','ğŸ¾ Let\'s count animals and compare! <b>How many more? How many fewer?</b>','ğŸ Yummy comparisons! Let\'s compare food amounts and find the difference!','ğŸ§¸ Time to compare toys! How many AND how long!','âš½ Sports comparison time! Scores, points, and equipment!','ğŸŒŸ You\'re a comparison superstar! Try these tricky problems!']
}};

// Content definitions: each item is [type, ...params]
// type: 'ex-bar'=example w/bar, 'ex-emj'=example w/emoji, 'pr-bar'=practice w/bar, 'pr-emj'=practice w/emoji, 'ch-bar'=challenge w/bar, 'ch-emj'=challenge w/emoji
// Bar params: [labelA_es,labelA_en,colA,nA,labelB_es,labelB_en,colB,nB,bracket_es,bracket_en]
// Emoji params: [labelA_es,labelA_en,colA,emojiA,nA,hlA,labelB_es,labelB_en,colB,emojiB,nB,hlB]
// Example: [...barOrEmoji, question_es, question_en, frame_es, frame_en, explain_es, explain_en]
// Practice: [...barOrEmoji, question_es, question_en, pre_es, pre_en, suf_es, suf_en, hint_es, hint_en, answer]
// Challenge: [...barOrEmoji, question_es, question_en, suf_es, suf_en, hint_es, hint_en, answer, starNum]

var TABS=[
// TAB 0: Lengths
[
['ex-bar','Rojo âœï¸','Red âœï¸','#FF6B6B',7,'Azul âœï¸','Blue âœï¸','#4ECDC4',4,'â† Â¡3 mÃ¡s!','â† 3 more!',
'Un lÃ¡piz rojo mide 7 cubos de largo. Un lÃ¡piz azul mide 4 cubos. Â¿CuÃ¡nto mÃ¡s largo es el rojo?',
'A red pencil is 7 cubes long. A blue pencil is 4 cubes long. How much longer is the red pencil?',
'El lÃ¡piz rojo es <span class="bk">3</span> cubos mÃ¡s largo que el azul.<br>7 âˆ’ 4 = <span class="bk">3</span>',
'The red pencil is <span class="bk">3</span> cubes longer than the blue pencil.<br>7 âˆ’ 4 = <span class="bk">3</span>',
'âœ… Alineamos los lÃ¡pices. Contamos los <b>cubos extra</b>: 1... 2... 3! El rojo es <b>3 cubos mÃ¡s largo</b>. 7 âˆ’ 4 = 3.',
'âœ… Line up both pencils. Count the <b>extra cubes</b>: 1... 2... 3! The red pencil is <b>3 cubes longer</b>. 7 âˆ’ 4 = 3.'],

['ex-bar','Serpiente ğŸ','Snake ğŸ','#68D391',5,'Gusano ğŸª±','Worm ğŸª±','#A0826D',8,'â† Â¡3 mÃ¡s corta!','â† 3 shorter!',
'Una serpiente mide 5 cubos. Un gusano mide 8 cubos. Â¿CuÃ¡nto mÃ¡s corta es la serpiente?',
'A snake is 5 cubes long. A worm is 8 cubes long. How much shorter is the snake?',
'La serpiente es <span class="bk">3</span> cubos mÃ¡s corta.<br>8 âˆ’ 5 = <span class="bk">3</span>',
'The snake is <span class="bk">3</span> cubes shorter than the worm.<br>8 âˆ’ 5 = <span class="bk">3</span>',
'âœ… Los alineamos. El gusano tiene <b>3 cubos extra</b>. La serpiente es <b>3 cubos mÃ¡s corta</b>. 8 âˆ’ 5 = 3.',
'âœ… Line them up. The worm has <b>3 extra cubes</b>. The snake is <b>3 cubes shorter</b>. 8 âˆ’ 5 = 3.'],

['pr-bar','Verde ğŸ€','Green ğŸ€','#48BB78',6,'Amarilla ğŸ€','Yellow ğŸ€','#ECC94B',9,null,null,
'Una cinta verde mide 6 cubos. Una amarilla mide 9 cubos. Â¿CuÃ¡nto mÃ¡s corta es la verde?',
'A green ribbon is 6 cubes. A yellow ribbon is 9 cubes. How much shorter is the green ribbon?',
'La cinta verde es','The green ribbon is','cubos mÃ¡s corta.','cubes shorter.',
'ğŸ’¡ Â¡AlinÃ©alas! Cuenta los cubos amarillos extra. 9 âˆ’ 6 = ?','ğŸ’¡ Line them up! Count the extra yellow cubes. 9 âˆ’ 6 = ?',3],

['pr-bar','Carro ğŸš—','Car ğŸš—','#4299E1',10,'CamiÃ³n ğŸšš','Truck ğŸšš','#ED8936',6,null,null,
'Un carro mide 10 cubos. Un camiÃ³n mide 6. Â¿CuÃ¡nto mÃ¡s largo es el carro?',
'A toy car is 10 cubes long. A toy truck is 6. How much longer is the car?',
'El carro es','The car is','cubos mÃ¡s largo.','cubes longer.',
'ğŸ’¡ Â¡El carro es mÃ¡s largo! 10 âˆ’ 6 = ?','ğŸ’¡ The car is longer! 10 âˆ’ 6 = ?',4]
],

// TAB 1: Animals
[
['ex-emj','Gatos','Cats','#ED8936','ğŸ±',5,3,'Perros','Dogs','#A0826D','ğŸ¶',3,-1,
'Hay 5 gatos y 3 perros. Â¿CuÃ¡ntos gatos mÃ¡s hay?',
'There are 5 cats and 3 dogs. How many more cats are there?',
'Hay <span class="bk">2</span> gatos mÃ¡s que perros.<br>5 âˆ’ 3 = <span class="bk">2</span>',
'There are <span class="bk">2</span> more cats than dogs.<br>5 âˆ’ 3 = <span class="bk">2</span>',
'âœ… Empareja cada perro con un gato. Â¡2 gatos <b>sobran</b>! Hay <b>2 gatos mÃ¡s</b>. 5 âˆ’ 3 = 2.',
'âœ… Match each dog with a cat. 2 cats are <b>left over</b>! There are <b>2 more cats</b>. 5 âˆ’ 3 = 2.'],

['ex-emj','Peces','Fish','#4299E1','ğŸŸ',3,-1,'PÃ¡jaros','Birds','#F56565','ğŸ¦',7,3,
'Hay 3 peces y 7 pÃ¡jaros. Â¿CuÃ¡ntos peces menos hay?',
'There are 3 fish and 7 birds. How many fewer fish are there?',
'Hay <span class="bk">4</span> peces menos que pÃ¡jaros.<br>7 âˆ’ 3 = <span class="bk">4</span>',
'There are <span class="bk">4</span> fewer fish than birds.<br>7 âˆ’ 3 = <span class="bk">4</span>',
'âœ… Empareja cada pez con un pÃ¡jaro. Â¡4 pÃ¡jaros <b>no tienen pareja</b>! Hay <b>4 peces menos</b>. 7 âˆ’ 3 = 4.',
'âœ… Match each fish to a bird. 4 birds have <b>no match</b>! There are <b>4 fewer fish</b>. 7 âˆ’ 3 = 4.'],

['pr-emj','Mariposas','Butterflies','#A78BFA','ğŸ¦‹',8,-1,'Catarinas','Ladybugs','#FF6B6B','ğŸ',5,-1,
'Hay 8 mariposas y 5 catarinas. Â¿CuÃ¡ntas mariposas mÃ¡s hay?',
'There are 8 butterflies and 5 ladybugs. How many more butterflies?',
'Hay','There are','mariposas mÃ¡s.','more butterflies.',
'ğŸ’¡ Empareja cada catarina con una mariposa. Â¿CuÃ¡ntas sobran? 8 âˆ’ 5 = ?','ğŸ’¡ Match each ladybug with a butterfly. How many are left? 8 âˆ’ 5 = ?',3],

['pr-emj','Tortugas','Turtles','#68D391','ğŸ¢',4,-1,'Ranas','Frogs','#48BB78','ğŸ¸',9,-1,
'Hay 4 tortugas y 9 ranas. Â¿CuÃ¡ntas tortugas menos hay?',
'There are 4 turtles and 9 frogs. How many fewer turtles?',
'Hay','There are','tortugas menos.','fewer turtles.',
'ğŸ’¡ "Menos" = Â¡el grupo mÃ¡s pequeÃ±o! 9 âˆ’ 4 = ?','ğŸ’¡ "Fewer" = the smaller group! 9 âˆ’ 4 = ?',5]
],

// TAB 2: Food
[
['ex-emj','Marco','Marco','#E53E3E','ğŸ',6,2,'SofÃ­a','SofÃ­a','#38A169','ğŸ',2,-1,
'Marco tiene 6 manzanas. SofÃ­a tiene 2. Â¿CuÃ¡ntas manzanas mÃ¡s tiene Marco?',
'Marco has 6 apples. SofÃ­a has 2. How many more apples does Marco have?',
'Marco tiene <span class="bk">4</span> manzanas mÃ¡s que SofÃ­a.<br>6 âˆ’ 2 = <span class="bk">4</span>',
'Marco has <span class="bk">4</span> more apples than SofÃ­a.<br>6 âˆ’ 2 = <span class="bk">4</span>',
'âœ… Empareja las 2 de SofÃ­a con 2 de Marco. A Marco le <b>sobran 4</b>. Tiene <b>4 mÃ¡s</b>. 6 âˆ’ 2 = 4.',
'âœ… Match SofÃ­a\'s 2 with Marco\'s. Marco has <b>4 left over</b>. He has <b>4 more</b>. 6 âˆ’ 2 = 4.'],

['pr-emj','PlÃ¡tanos','Bananas','#D69E2E','ğŸŒ',7,-1,'Naranjas','Oranges','#ED8936','ğŸŠ',3,-1,
'Hay 7 plÃ¡tanos y 3 naranjas. Â¿CuÃ¡ntos plÃ¡tanos mÃ¡s hay?',
'There are 7 bananas and 3 oranges. How many more bananas?',
'Hay','There are','plÃ¡tanos mÃ¡s.','more bananas.',
'ğŸ’¡ Empareja naranjas con plÃ¡tanos. Â¿CuÃ¡ntos sobran? 7 âˆ’ 3 = ?','ğŸ’¡ Match oranges to bananas. How many are left? 7 âˆ’ 3 = ?',4],

['pr-emj','Ana','Ana','#F9A8D4','ğŸª',3,-1,'Ben','Ben','#A0826D','ğŸª',8,-1,
'Ana tiene 3 galletas. Ben tiene 8. Â¿CuÃ¡ntas galletas menos tiene Ana?',
'Ana has 3 cookies. Ben has 8. How many fewer cookies does Ana have?',
'Ana tiene','Ana has','galletas menos.','fewer cookies.',
'ğŸ’¡ "Menos" = Â¡el grupo pequeÃ±o! 8 âˆ’ 3 = ?','ğŸ’¡ "Fewer" = the smaller group. 8 âˆ’ 3 = ?',5],

['pr-emj','Fresas','Strawberries','#E53E3E','ğŸ“',10,-1,'Uvas','Grapes','#805AD5','ğŸ‡',4,-1,
'Hay 10 fresas y 4 uvas. Â¿CuÃ¡ntas uvas menos hay?',
'There are 10 strawberries and 4 grapes. How many fewer grapes?',
'Hay','There are','uvas menos.','fewer grapes.',
'ğŸ’¡ Empareja cada uva con una fresa. Â¿CuÃ¡ntas fresas sobran? 10 âˆ’ 4 = ?','ğŸ’¡ Match grapes to strawberries. How many are left? 10 âˆ’ 4 = ?',6]
],

// TAB 3: Toys
[
['ex-emj','MÃ­a','Mia','#F9A8D4','ğŸ§¸',4,-1,'Jake','Jake','#4299E1','ğŸ§¸',7,4,
'MÃ­a tiene 4 muÃ±ecos. Jake tiene 7. Â¿CuÃ¡ntos muÃ±ecos menos tiene MÃ­a?',
'Mia has 4 dolls. Jake has 7. How many fewer dolls does Mia have?',
'MÃ­a tiene <span class="bk">3</span> muÃ±ecos menos que Jake.<br>7 âˆ’ 4 = <span class="bk">3</span>',
'Mia has <span class="bk">3</span> fewer dolls than Jake.<br>7 âˆ’ 4 = <span class="bk">3</span>',
'âœ… Empareja los 4 de MÃ­a con 4 de Jake. Jake tiene <b>3 extra</b>. MÃ­a tiene <b>3 menos</b>. 7 âˆ’ 4 = 3.',
'âœ… Match Mia\'s 4 with Jake\'s. Jake has <b>3 extra</b>. Mia has <b>3 fewer</b>. 7 âˆ’ 4 = 3.'],

['ex-bar','Tren ğŸš‚','Train ğŸš‚','#E53E3E',8,'Barco â›µ','Boat â›µ','#4299E1',5,'â† Â¡3 mÃ¡s largo!','â† 3 longer!',
'Un tren mide 8 cubos. Un barco mide 5. Â¿CuÃ¡nto mÃ¡s largo es el tren?',
'A toy train is 8 cubes. A toy boat is 5 cubes. How much longer is the train?',
'El tren es <span class="bk">3</span> cubos mÃ¡s largo.<br>8 âˆ’ 5 = <span class="bk">3</span>',
'The train is <span class="bk">3</span> cubes longer than the boat.<br>8 âˆ’ 5 = <span class="bk">3</span>',
'âœ… El tren tiene <b>3 cubos extra</b>. Es <b>3 mÃ¡s largo</b>. 8 âˆ’ 5 = 3.',
'âœ… The train has <b>3 extra cubes</b>. It\'s <b>3 cubes longer</b>. 8 âˆ’ 5 = 3.'],

['pr-emj','Lily','Lily','#FF6B6B','ğŸŸ¥',9,-1,'Sam','Sam','#4299E1','ğŸŸ¦',6,-1,
'Lily tiene 9 bloques. Sam tiene 6. Â¿CuÃ¡ntos bloques mÃ¡s tiene Lily?',
'Lily has 9 blocks. Sam has 6. How many more blocks does Lily have?',
'Lily tiene','Lily has','bloques mÃ¡s.','more blocks.',
'ğŸ’¡ Empareja los bloques de Sam con los de Lily. Â¿CuÃ¡ntos sobran? 9 âˆ’ 6 = ?','ğŸ’¡ Match Sam\'s blocks to Lily\'s. How many are left? 9 âˆ’ 6 = ?',3],

['pr-bar','Cuerda ğŸª¢','Rope ğŸª¢','#A78BFA',9,'CinturÃ³n ğŸ¥‹','Belt ğŸ¥‹','#A0826D',5,null,null,
'Una cuerda mide 9 cubos. Un cinturÃ³n mide 5. Â¿CuÃ¡nto mÃ¡s corto es el cinturÃ³n?',
'A jump rope is 9 cubes. A belt is 5 cubes. How much shorter is the belt?',
'El cinturÃ³n es','The belt is','cubos mÃ¡s corto.','cubes shorter.',
'ğŸ’¡ Cuenta los cubos morados extra. 9 âˆ’ 5 = ?','ğŸ’¡ Count the extra purple cubes. 9 âˆ’ 5 = ?',4]
],

// TAB 4: Sports
[
['ex-emj','Equipo Rojo','Team Red','#E53E3E','âš½',8,5,'Equipo Azul','Team Blue','#3182CE','âš½',5,-1,
'El equipo rojo anotÃ³ 8 goles. El azul anotÃ³ 5. Â¿CuÃ¡ntos goles mÃ¡s anotÃ³ el rojo?',
'Team Red scored 8 goals. Team Blue scored 5. How many more goals did Team Red score?',
'El equipo rojo anotÃ³ <span class="bk">3</span> goles mÃ¡s.<br>8 âˆ’ 5 = <span class="bk">3</span>',
'Team Red scored <span class="bk">3</span> more goals.<br>8 âˆ’ 5 = <span class="bk">3</span>',
'âœ… Empareja los 5 del azul con 5 del rojo. Al rojo le <b>sobran 3</b>. Â¡Anotaron <b>3 mÃ¡s</b>! 8 âˆ’ 5 = 3.',
'âœ… Match Blue\'s 5 with Red\'s. Red has <b>3 extra</b>. They scored <b>3 more</b>! 8 âˆ’ 5 = 3.'],

['pr-emj','Rosa','Rosa','#F9A8D4','ğŸ€',6,-1,'Leo','Leo','#4ECDC4','ğŸ€',10,-1,
'Rosa encestÃ³ 6 canastas. Leo encestÃ³ 10. Â¿CuÃ¡ntas canastas menos encestÃ³ Rosa?',
'Rosa made 6 baskets. Leo made 10. How many fewer baskets did Rosa make?',
'Rosa encestÃ³','Rosa made','canastas menos.','fewer baskets.',
'ğŸ’¡ Empareja las 6 de Rosa con 6 de Leo. Â¿CuÃ¡ntas de Leo sobran? 10 âˆ’ 6 = ?','ğŸ’¡ Match Rosa\'s 6 to Leo\'s. How many of Leo\'s are left? 10 âˆ’ 6 = ?',4],

['pr-bar','Bate âš¾','Bat âš¾','#D69E2E',7,'Raqueta ğŸ¾','Racket ğŸ¾','#38A169',10,null,null,
'Un bate mide 7 cubos. Una raqueta mide 10. Â¿CuÃ¡nto mÃ¡s corto es el bate?',
'A baseball bat is 7 cubes. A tennis racket is 10 cubes. How much shorter is the bat?',
'El bate es','The bat is','cubos mÃ¡s corto.','cubes shorter.',
'ğŸ’¡ Â¡La raqueta es mÃ¡s larga! 10 âˆ’ 7 = ?','ğŸ’¡ The racket is longer! 10 âˆ’ 7 = ?',3]
],

// TAB 5: Challenge
[
['ch-bar','CrayÃ³n ğŸ–ï¸','Crayon ğŸ–ï¸','#E53E3E',5,'Marcador ğŸ–Šï¸','Marker ğŸ–Šï¸','#805AD5',8,null,null,
'Un crayÃ³n mide 5 cubos. Un marcador mide 8. Â¿CuÃ¡nto mÃ¡s largo es el marcador?',
'A crayon is 5 cubes. A marker is 8 cubes. How much longer is the marker?',
'cubos mÃ¡s largo','cubes longer',
'ğŸ’¡ Â¿CuÃ¡l es mÃ¡s largo? Â¡El marcador! 8 âˆ’ 5 = ?','ğŸ’¡ Which is longer? The marker! 8 âˆ’ 5 = ?',3,1],

['ch-emj','Estrellas Rojas','Red Stars','#E53E3E','â­',6,-1,'Estrellas Azules','Blue Stars','#3182CE','ğŸ”µ',6,-1,
'Hay 6 estrellas rojas y 6 azules. Â¿CuÃ¡ntas estrellas rojas mÃ¡s hay?',
'There are 6 red stars and 6 blue stars. How many more red stars?',
'estrellas rojas mÃ¡s','more red stars',
'ğŸ’¡ Â¡DifÃ­cil! Cuando tienen la <b>misma cantidad</b>... 6 âˆ’ 6 = ?','ğŸ’¡ Tricky! Same amount... 6 âˆ’ 6 = ?',0,2],

['ch-emj','Carlos','Carlos','#D69E2E','ğŸŒ»',4,-1,'Dina','Dina','#D53F8C','ğŸŒ¸',9,-1,
'Carlos recogiÃ³ 4 flores. Dina recogiÃ³ 9. Â¿CuÃ¡ntas flores menos recogiÃ³ Carlos?',
'Carlos picked 4 flowers. Dina picked 9. How many fewer flowers did Carlos pick?',
'flores menos','fewer flowers',
'ğŸ’¡ Empareja las 4 de Carlos con las de Dina. 9 âˆ’ 4 = ?','ğŸ’¡ Match Carlos\'s 4 to Dina\'s. 9 âˆ’ 4 = ?',5,3],

['ch-bar','Oruga ğŸ›','Caterpillar ğŸ›','#48BB78',7,'Escarabajo ğŸª²','Beetle ğŸª²','#2D3748',3,null,null,
'Una oruga mide 7 cubos. Un escarabajo mide 3. Â¿CuÃ¡nto mÃ¡s corto es el escarabajo?',
'A caterpillar is 7 cubes. A beetle is 3 cubes. How much shorter is the beetle?',
'cubos mÃ¡s corto','cubes shorter',
'ğŸ’¡ Â¡El escarabajo es mÃ¡s corto! 7 âˆ’ 3 = ?','ğŸ’¡ The beetle is shorter! 7 âˆ’ 3 = ?',4,4],

['ch-emj','Sra. LÃ³pez','Ms. LÃ³pez','#E53E3E','ğŸ–ï¸',10,-1,'Sr. RodrÃ­guez','Mr. RodrÃ­guez','#2B6CB0','ğŸ–ï¸',4,-1,
'La Sra. LÃ³pez tiene 10 crayones. El Sr. RodrÃ­guez tiene 4. Â¿CuÃ¡ntos mÃ¡s tiene la Sra. LÃ³pez?',
'Ms. LÃ³pez has 10 crayons. Mr. RodrÃ­guez has 4. How many more does Ms. LÃ³pez have?',
'crayones mÃ¡s','more crayons',
'ğŸ’¡ Â¿QuiÃ©n tiene mÃ¡s? Â¡La Sra. LÃ³pez! 10 âˆ’ 4 = ?','ğŸ’¡ Who has more? Ms. LÃ³pez! 10 âˆ’ 4 = ?',6,5]
]
];

// Helper: build bar units
function BU(n){var h='';for(var i=0;i<n;i++)h+='<div class="bx"></div>';return h}

// Helper: build bar visual from item array (bar items start at index 1)
function MBi(it){
var la=L==='es'?it[1]:it[2],ca=it[3],na=it[4];
var lb=L==='es'?it[5]:it[6],cb=it[7],nb=it[8];
var br=L==='es'?it[9]:it[10];
var d=Math.abs(na-nb);
var shorter=Math.min(na,nb);
var h='<div class="bv"><div class="br"><span class="bl" style="color:'+ca+'">'+la+'</span><div class="bar" style="background:'+ca+'"><div class="bu">'+BU(na)+'</div></div><span class="bc" style="color:'+ca+'">'+na+'</span></div>';
h+='<div class="br"><span class="bl" style="color:'+cb+'">'+lb+'</span><div class="bar" style="background:'+cb+'"><div class="bu">'+BU(nb)+'</div></div><span class="bc" style="color:'+cb+'">'+nb+'</span></div>';
if(br)h+='<div class="db" data-shorter="'+shorter+'" data-diff="'+d+'"><div class="dl"></div><span class="dt">'+br+'</span></div>';
return h+'</div>'}

// Helper: build emoji visual from item (emoji items start at index 1)
function MEi(it){
var la=L==='es'?it[1]:it[2],ca=it[3],ea=it[4],na=it[5],ha=it[6];
var lb=L==='es'?it[7]:it[8],cb=it[9],eb=it[10],nb=it[11],hb=it[12];
var h='<div class="ec"><div class="eg"><div class="el" style="color:'+ca+'">'+la+'</div><div class="gg">';
for(var i=0;i<na;i++){h+='<div class="ei'+(ha>=0&&i>=ha?' hl':'')+'">'+ea+'</div>'}
h+='</div><div class="en2" style="color:'+ca+'">'+na+'</div></div><div class="co">âŸ·</div>';
h+='<div class="eg"><div class="el" style="color:'+cb+'">'+lb+'</div><div class="gg">';
for(var i=0;i<nb;i++){h+='<div class="ei'+(hb>=0&&i>=hb?' hl':'')+'">'+eb+'</div>'}
h+='</div><div class="en2" style="color:'+cb+'">'+nb+'</div></div></div>';
return h}

var uid=0;
function UID(){return 'u'+(uid++)}

function BA(){
uid=0;
var d=D[L];
document.getElementById('ht').innerHTML=d.ht;
document.getElementById('hs').textContent=d.hs;

var tb='';for(var i=0;i<6;i++){tb+='<button class="tb'+(i===AT?' on':'')+'" data-t="'+i+'" onclick="ST('+i+')">'+d.tn[i]+'</button>'}
document.getElementById('tbs').innerHTML=tb;

var html='';
for(var ti=0;ti<TABS.length;ti++){
html+='<div class="tc'+(ti===AT?' on':'')+'" id="t'+ti+'"><div class="ti">'+d.ti[ti]+'</div>';
if(ti===5){html+='<div class="pb">';for(var s=1;s<=5;s++)html+='<span class="st'+(CS.has(s)?' wd':'')+'" id="s'+s+'">â­</span>';html+='</div>'}

for(var ci=0;ci<TABS[ti].length;ci++){
var it=TABS[ti][ci],tp=it[0],id=UID();
var vis,q,fr,ex;

if(tp==='ex-bar'){
vis=MBi(it);q=L==='es'?it[11]:it[12];fr=L==='es'?it[13]:it[14];ex=L==='es'?it[15]:it[16];
html+='<div class="cd ex"><span class="cl e">'+d.el+'</span><div class="qt">'+q+'</div>'+vis+'<div class="sf">'+fr+'</div><button class="rb" onclick="TR(\''+id+'\')" id="b'+id+'">'+d.sw+'</button><div class="ea" id="'+id+'">'+ex+'</div></div>';
}
else if(tp==='ex-emj'){
vis=MEi(it);q=L==='es'?it[13]:it[14];fr=L==='es'?it[15]:it[16];ex=L==='es'?it[17]:it[18];
html+='<div class="cd ex"><span class="cl e">'+d.el+'</span><div class="qt">'+q+'</div>'+vis+'<div class="sf">'+fr+'</div><button class="rb" onclick="TR(\''+id+'\')" id="b'+id+'">'+d.sw+'</button><div class="ea" id="'+id+'">'+ex+'</div></div>';
}
else if(tp==='pr-bar'){
vis=MBi(it);q=L==='es'?it[11]:it[12];var pre=L==='es'?it[13]:it[14],suf=L==='es'?it[15]:it[16],ht2=L==='es'?it[17]:it[18],ans=it[19];
html+='<div class="cd pr"><span class="cl p">'+d.pl+'</span><div class="qt">'+q+'</div>'+vis+'<div class="aa"><span class="as">'+pre+'</span><input type="number" class="ai" id="i'+id+'" min="0" max="20" onkeypress="if(event.key===\'Enter\')CA(\'i'+id+'\','+ans+',\'f'+id+'\')"><span class="as">'+suf+'</span><button class="btn bck" onclick="CA(\'i'+id+'\','+ans+',\'f'+id+'\')">'+d.ck+'</button><button class="btn bht" onclick="SH(\'h'+id+'\')">'+d.hi+'</button></div><div class="fb" id="f'+id+'"></div><div class="hb" id="h'+id+'">'+ht2+'</div></div>';
}
else if(tp==='pr-emj'){
vis=MEi(it);q=L==='es'?it[13]:it[14];var pre=L==='es'?it[15]:it[16],suf=L==='es'?it[17]:it[18],ht2=L==='es'?it[19]:it[20],ans=it[21];
html+='<div class="cd pr"><span class="cl p">'+d.pl+'</span><div class="qt">'+q+'</div>'+vis+'<div class="aa"><span class="as">'+pre+'</span><input type="number" class="ai" id="i'+id+'" min="0" max="20" onkeypress="if(event.key===\'Enter\')CA(\'i'+id+'\','+ans+',\'f'+id+'\')"><span class="as">'+suf+'</span><button class="btn bck" onclick="CA(\'i'+id+'\','+ans+',\'f'+id+'\')">'+d.ck+'</button><button class="btn bht" onclick="SH(\'h'+id+'\')">'+d.hi+'</button></div><div class="fb" id="f'+id+'"></div><div class="hb" id="h'+id+'">'+ht2+'</div></div>';
}
else if(tp==='ch-bar'){
vis=MBi(it);q=L==='es'?it[11]:it[12];var suf=L==='es'?it[13]:it[14],ht2=L==='es'?it[15]:it[16],ans=it[17],sn=it[18];
html+='<div class="cd ch"><span class="cl c">'+d.chl+' '+sn+'</span><div class="qt">'+q+'</div>'+vis+'<div class="aa"><input type="number" class="ai" id="i'+id+'" min="0" max="20" onkeypress="if(event.key===\'Enter\')CC(\'i'+id+'\','+ans+',\'f'+id+'\','+sn+')"><span class="as">'+suf+'</span><button class="btn bck" onclick="CC(\'i'+id+'\','+ans+',\'f'+id+'\','+sn+')">'+d.ck+'</button><button class="btn bht" onclick="SH(\'h'+id+'\')">'+d.hi+'</button></div><div class="fb" id="f'+id+'"></div><div class="hb" id="h'+id+'">'+ht2+'</div></div>';
}
else if(tp==='ch-emj'){
vis=MEi(it);q=L==='es'?it[13]:it[14];var suf=L==='es'?it[15]:it[16],ht2=L==='es'?it[17]:it[18],ans=it[19],sn=it[20];
html+='<div class="cd ch"><span class="cl c">'+d.chl+' '+sn+'</span><div class="qt">'+q+'</div>'+vis+'<div class="aa"><input type="number" class="ai" id="i'+id+'" min="0" max="20" onkeypress="if(event.key===\'Enter\')CC(\'i'+id+'\','+ans+',\'f'+id+'\','+sn+')"><span class="as">'+suf+'</span><button class="btn bck" onclick="CC(\'i'+id+'\','+ans+',\'f'+id+'\','+sn+')">'+d.ck+'</button><button class="btn bht" onclick="SH(\'h'+id+'\')">'+d.hi+'</button></div><div class="fb" id="f'+id+'"></div><div class="hb" id="h'+id+'">'+ht2+'</div></div>';
}
}
html+='</div>';
}
document.getElementById('ct').innerHTML=html;
requestAnimationFrame(alignBrackets);
}

function alignBrackets(){
document.querySelectorAll('.db').forEach(function(db){
var bv=db.closest('.bv');if(!bv)return;
var bars=bv.querySelectorAll('.bar');if(bars.length<2)return;
var shorter=parseInt(db.dataset.shorter),diff=parseInt(db.dataset.diff);
var longerBar=bars[0].offsetWidth>=bars[1].offsetWidth?bars[0]:bars[1];
var shorterBar=bars[0].offsetWidth<bars[1].offsetWidth?bars[0]:bars[1];
// bracket starts where shorter bar ends, relative to the bv container
var barLeft=longerBar.offsetLeft;
var shorterW=shorterBar.offsetWidth;
db.style.marginLeft=barLeft+shorterW+'px';
db.style.width=(longerBar.offsetWidth-shorterW)+'px';
})}

function ST(i){AT=i;document.querySelectorAll('.tc').forEach(function(e){e.classList.remove('on')});document.querySelectorAll('.tb').forEach(function(e){e.classList.remove('on')});var t=document.getElementById('t'+i);if(t)t.classList.add('on');var b=document.querySelector('.tb[data-t="'+i+'"]');if(b)b.classList.add('on')}

function SL(l){L=l;document.getElementById('les').classList.toggle('on',l==='es');document.getElementById('len').classList.toggle('on',l==='en');document.documentElement.lang=l;BA()}

function TR(id){var e=document.getElementById(id),b=document.getElementById('b'+id),d=D[L];if(e.classList.contains('vis')){e.classList.remove('vis');b.textContent=d.sw}else{e.classList.add('vis');b.textContent=d.hw}}

function SH(id){var e=document.getElementById(id);if(e)e.classList.toggle('vis')}

function CA(iid,cor,fid){var d=D[L],inp=document.getElementById(iid),fb=document.getElementById(fid),v=parseInt(inp.value);if(isNaN(v)){fb.className='fb no';fb.textContent=d.nm;return}if(v===cor){inp.className='ai ok';fb.className='fb ok';fb.textContent=d.cm}else{inp.className='ai no';fb.className='fb no';fb.textContent=d.im;setTimeout(function(){inp.className='ai'},1500)}}

function CC(iid,cor,fid,sn){var d=D[L],inp=document.getElementById(iid),fb=document.getElementById(fid),v=parseInt(inp.value);if(isNaN(v)){fb.className='fb no';fb.textContent=d.nm;return}if(v===cor){inp.className='ai ok';fb.className='fb ok';fb.textContent=d.sm;if(!CS.has(sn)){CS.add(sn);var s=document.getElementById('s'+sn);if(s)s.classList.add('wd')}if(CS.size===5)fb.textContent=d.am}else{inp.className='ai no';fb.className='fb no';fb.textContent=d.im;setTimeout(function(){inp.className='ai'},1500)}}

BA();
window.addEventListener('resize',function(){requestAnimationFrame(alignBrackets)});
</script>
</body>
</html>
